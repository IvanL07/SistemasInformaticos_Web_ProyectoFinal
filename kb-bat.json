[
  {"id":"bat-intro","tags":["bat","batch","cmd"],"patterns":["que es batch",".bat","archivo bat"],"short":"Scripts CMD para automatizar tareas en Windows.","answer":"**Batch (.bat)**\n\nUn `.bat` automatiza tareas en Windows (CMD). Típico:\n`@echo off`\n`setlocal`\n`rem ...`\n`endlocal`"},
  {"id":"bat-echo-off","tags":["bat","@echo off"],"patterns":["@echo off","echo off"],"short":"Oculta comandos; @ evita mostrar la propia línea.","answer":"**`@echo off`**\n\nOculta los comandos al ejecutar y deja la salida limpia."},
  {"id":"bat-set","tags":["bat","set","variables"],"patterns":["set var=","%variable%","variables batch"],"short":"set asigna variables; usa set \"VAR=valor\" para espacios.","answer":"**Variables: `set`**\n\n`set \"NOMBRE=Ana\"`\n`echo %NOMBRE%`\n\nUsa comillas para evitar problemas con espacios."},
  {"id":"bat-setp","tags":["bat","set /p","entrada"],"patterns":["set /p","leer teclado","entrada usuario"],"short":"Pide un valor al usuario.","answer":"**Entrada: `set /p`**\n\n`set /p nombre=Tu nombre: `\n`echo Hola %nombre%`"},
  {"id":"bat-seta","tags":["bat","set /a","matemáticas"],"patterns":["set /a","operaciones matematicas"],"short":"Cálculos aritméticos.","answer":"**Matemáticas: `set /a`**\n\n`set /a x=2+3*4`\n`echo %x%`"},
  {"id":"bat-if","tags":["bat","if","else"],"patterns":["if ","if exist","if defined","else"],"short":"Condicionales: texto, existencia, variables.","answer":"**`if`**\n\nTexto:\n`if \"%a%\"==\"x\" echo ok`\n\nArchivos:\n`if exist \"a.txt\" echo existe`\n\nVariables:\n`if defined VAR echo definida`"},
  {"id":"bat-errorlevel","tags":["bat","errorlevel","errores"],"patterns":["errorlevel","%errorlevel%","if errorlevel"],"short":"Código de salida del último comando.","answer":"**`%errorlevel%`**\n\n`comando`\n`if %errorlevel% neq 0 echo Error`"},
  {"id":"bat-for","tags":["bat","for","bucles"],"patterns":["for ","for /l","for /f","for /r"],"short":"Itera rangos, archivos y parsea texto.","answer":"**`for`**\n\nRango:\n`for /L %%i in (1,1,5) do echo %%i`\n\nArchivos:\n`for %%f in (*.txt) do echo %%f`\n\nParseo:\n`for /F \"tokens=1,2 delims=,\" %%a in (file.csv) do ...`"},
  {"id":"bat-goto","tags":["bat","goto","etiquetas"],"patterns":["goto",":label"],"short":"Saltos con etiquetas; útil en menús.","answer":"**`goto`**\n\nEtiqueta: `:inicio`\nSalto: `goto inicio`\n\nPara funciones: mejor `call :func`."},
  {"id":"bat-call","tags":["bat","call","subrutinas"],"patterns":["call :","goto :eof"],"short":"Funciones con call :label y retorno goto :eof.","answer":"**Subrutinas**\n\n`:main`\n`call :hola \"Ana\"`\n`goto :eof`\n\n`:hola`\n`echo Hola %~1`\n`goto :eof`"},
  {"id":"bat-delayed","tags":["bat","delayed expansion","enabledelayedexpansion"],"patterns":["enabledelayedexpansion","!var!","delayed expansion"],"short":"Necesaria en bucles para variables que cambian.","answer":"**Expansión retardada**\n\n`setlocal enabledelayedexpansion`\n`for /L %%i in (1,1,3) do (\n  set /a x+=1\n  echo !x!\n)`"},
  {"id":"bat-redir","tags":["bat","redireccion","logs"],"patterns":[">",">>","2>&1","log"],"short":"Redirige salida/errores a archivos.","answer":"**Redirecciones**\n\n`>` sobrescribe, `>>` añade.\n`2>&1` mezcla stderr con stdout.\nEj: `comando >> log.txt 2>&1`"},
  {"id":"bat-pipe","tags":["bat","pipe","pipeline"],"patterns":["|","pipe"],"short":"Conecta salida de un comando a otro.","answer":"**Pipes**\n\n`dir | find \"txt\"`"},
  {"id":"bat-quote","tags":["bat","comillas","rutas"],"patterns":["ruta con espacios","comillas batch"],"short":"Siempre comillas en rutas/variables con espacios.","answer":"**Comillas**\n\n`set \"RUTA=C:\\Mi Carpeta\"`\n`dir \"%RUTA%\"`"},
  {"id":"bat-choice","tags":["bat","choice","menus"],"patterns":["choice","menú choice"],"short":"Entrada robusta sin textos raros.","answer":"**`choice`**\n\n`choice /c SN /m \"¿Continuar?\"`\n`if errorlevel 2 echo NO`\n`if errorlevel 1 echo SI`"},
  {"id":"bat-start","tags":["bat","start"],"patterns":["start ","abrir programa"],"short":"Lanza app/ventana. Ojo con el título.","answer":"**`start`**\n\n`start notepad.exe`\nSi ruta: `start \"\" \"C:\\ruta\\app.exe\"`"},
  {"id":"bat-timeout","tags":["bat","timeout"],"patterns":["timeout","esperar"],"short":"Espera segundos.","answer":"**`timeout`**\n\n`timeout /t 5 /nobreak`"},
  {"id":"bat-xcopy-robocopy","tags":["bat","xcopy","robocopy","copias"],"patterns":["xcopy","robocopy","copiar carpetas"],"short":"robocopy es el recomendado para carpetas grandes.","answer":"**Copias**\n\nMejor: `robocopy \"origen\" \"destino\" /E /R:1 /W:1`"},
  {"id":"bat-debug-log","tags":["bat","debug","log"],"patterns":["logging","log batch","debug batch"],"short":"Log con date/time y redirecciones.","answer":"**Logging**\n\n`echo [%date% %time%] Iniciando...>>log.txt`\n`comando >>log.txt 2>&1`"},
  {"id":"bat-menu-ej","tags":["bat","menu","ejemplo"],"patterns":["ejemplo menu batch","hacer menu bat"],"short":"Menú básico con if/goto.","answer":"**Ejemplo menú**\n\n```bat\n@echo off\n:menu\ncls\necho 1) Hola\necho 2) Salir\nset /p op=Opcion: \nif \"%op%\"==\"1\" goto hola\nif \"%op%\"==\"2\" exit\ngoto menu\n:hola\necho Hola!\npause\ngoto menu\n```"}
]
